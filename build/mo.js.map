{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 364843b46ecfa5cfe6c7","webpack:///./src/class-proto.babel.js","webpack:///./src/helpers/stagger-property.babel.js","webpack:///./src/tween/tween.babel.js","webpack:///./src/delta/separate-tween-options.babel.js","webpack:///./src/tween/tween-defaults.babel.js","webpack:///./src/tween/tweenable.babel.js","webpack:///./src/easing/parse-easing.babel.js","webpack:///./src/helpers/make-color-object.babel.js","webpack:///./src/delta/deltas.babel.js","webpack:///./src/delta/motion-path.babel.js","webpack:///./src/helpers/parse-stagger.babel.js","webpack:///./src/delta/get-regexp-unit.babel.js","webpack:///./src/delta/unit-regexp.babel.js","webpack:///./src/easing/path.babel.js","webpack:///./src/easing/easing.babel.js","webpack:///./src/easing/pow.babel.js","webpack:///./src/constants.babel.js","webpack:///./src/tween/tweener.babel.js","webpack:///./src/delta/delta.babel.js","webpack:///./src/delta/parse-color.babel.js","webpack:///./src/delta/parse-unit.babel.js","webpack:///./src/delta/parse-number.babel.js","webpack:///./src/delta/split-delta.babel.js","webpack:///./src/tween/timeline.babel.js","webpack:///./src/html.babel.js","webpack:///./src/helpers/div.babel.js","webpack:///./src/stagger.babel.js","webpack:///./src/easing/basic-easing.babel.js","webpack:///./src/mojs.babel.js"],"names":["ClassProto","get","key","_props","set","value","setIfNotSet","_o","undefined","init","o","index","_declareDefaults","_extendDefaults","_vars","_defaults","staggerProperty","prop","Array","length","__mojs__isStaggerFunction","Tween","Object","create","play","_state","_setState","_setupPlay","_playTime","performance","now","_speed","speed","pause","remove","stop","progress","stopProc","isReverse","setProgress","reset","replay","repeat","setSpeed","setStartTime","reverse","_reverseCallbacks","_elapsed","delay","_end","_spot","_start","time","_prevTime","update","_isActive","_repeatCount","add","onStart","onComplete","onChimeIn","onChimeOut","duration","_time","_cbs","_chCbs","startTime","shiftTime","onUpdate","easing","backwardEasing","_progress","onRefresh","isForward","ease","isActive","p","state","_prevState","wasPause","wasStop","wasPlay","wasReverse","wasPlaying","wasStill","onPlaybackStart","onPlaybackPause","onPlaybackStop","onTweenerFinish","isReverseOnRepeat","onPlaybackComplete","count","call","wrap","instance","__mojsClass","separateTweenOptions","object","tweenOptions","option","tweenDefaults","ep","Super","Tweenable","methods","i","method","rest","timeline","tween","parseEasing","type","toLowerCase","split","easeParent","console","error","normalizeHex","string","parseHEXColor","color","result","exec","colorObj","r","parseInt","g","b","a","makeColorObject","originColor","isRgb","style","window","getComputedStyle","regexString1","regexString2","RegExp","parseFloat","isError","Deltas","options","timelineOptions","_customProperties","customProperties","_render","render","_pipeObj","pipeObj","_el","el","_supportProps","_setupTween","_setupTimeline","_parseProperties","_upd_deltas","support","props","_tweenDeltas","_plainDeltas","_staticProps","custom","target","isSkipRender","property","delta","path","supportProps","push","MotionPath","precision","coordinate","step","_samples","nextKey","diff","norm","nextValue","_target","_samplePath","n","totalLength","_path","getTotalLength","Map","_setForKey","point","getPointAtLength","prevPoint","dY","y","dX","x","atan","isFinite","Math","angle","PI","_parsePath","document","createElementNS","setAttributeNS","parseStagger","match","body","stagger","base","baseValue","baseUnit","stepValue","stepUnit","unit","getRegexpUnit","valueMatch","unitRegexp","parsePath","domPath","sample","samples","findY","start","end","abs","middle","floor","translateSamples","map","preSamples","nextY","linear","none","k","sin","in","cos","out","inout","pow","easeIn","t","easeOut","defaultEasing","defaultEasingString","join","name","consoleName","bundleLink","tweens","savedTweens","isRunning","savePlayingTweens","slice","restorePlayingTweens","onVisibilityChange","indexOf","splice","loop","requestAnimationFrame","caffeinate","removeEventListener","addEventListener","tweener","parsersMap","number","Delta","_parseDelta","_delta","_upd_number","curve","_upd_unit","_upd_color","curveP","_parseByCustom","_parseByGuess","_getSplit","startColor","endColor","isUnit","toString","parseType","customProperty","parseColor","parseUnit","startUnit","endUnit","parseNumber","splitDelta","keys","Timeline","shift","forEach","runner","_items","max","append","_callOnItems","args","_createUpdate","context","_onUpdate","Html","is3d","z","skewX","skewY","angleX","angleY","angleZ","scale","scaleX","scaleY","scaleZ","_setupDeltas","_getCustomProperties","_deltas","transform","_render3d","rotateZ","unitProps","numberProps","originalRender","customProps","_isRender","_is3dProperties","ignoreProperties","isRotate3d","_is3d","querySelector","div","createElement","Stagger","Module","_createTimeline","_createModules","_modules","items","modulesCount","module","_getStaggerOptions","addBasicEasing","mojs","quad","cubic","quart","quint","expo","circ","sqrt","elastic","s","back","bounce","revision","__helpers__"],"mappings":"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","file":"mo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mojs\"] = factory();\n\telse\n\t\troot[\"mojs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 364843b46ecfa5cfe6c7","/**\n * ClassProto - base class for module.\n * It is needed to:\n *   - declare `_defaults`\n *   - extend `_defaults` by `options` and save result to `_props`\n *   - declare `_vars` after extention\n *   - call `_render` eventually\n */\nconst ClassProto = {};\n\n/**\n * `get` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @returns {Any} Value from the `_props` by `key`.\n */\nClassProto.get = function(key) {\n  return this._props[key];\n};\n\n/**\n * `set` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n */\nClassProto.set = function(key, value) {\n  this._props[key] = value;\n};\n\n/**\n * `setIfNotSet` - function to set a property if it isn't\n *                 present in the initialization options.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n * @returns {Object} This instance.\n */\nClassProto.setIfNotSet = function(key, value) {\n  if (this._o[key] === undefined) {\n      this.set(key, value);\n  }\n\n  return this;\n};\n\n/**\n * _init - lifecycle initialization function.\n *\n * @private\n */\nClassProto.init = function(o = {}) {\n  // save options\n  this._o = { ...o };\n  // parse index and delete it from options\n  this.index = this._o.index || 0;\n  delete this._o.index;\n  // invoke lifecycle functions\n  this._declareDefaults();\n  this._extendDefaults();\n  this._vars();\n};\n\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n */\nClassProto._declareDefaults = function() { this._defaults = {}; };\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n */\nClassProto._extendDefaults = function() {\n  this._props = {\n    ...this._defaults,\n    ...this._o\n  };\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @return {type}  description\n */\nClassProto._vars = function() {};\n\nexport { ClassProto };\n\n\n\n// WEBPACK FOOTER //\n// ./src/class-proto.babel.js","import { parseStagger } from './parse-stagger';\n\nconst staggerProperty = (prop, index) => {\n  let value = prop;\n  // if property is an array map the index to some array item\n  if (prop instanceof Array) {\n    value = prop[index % prop.length];\n  }\n  // if prop is a function, call the it with index and return the result\n  if (typeof prop === 'function' && prop.__mojs__isStaggerFunction) {\n    value = prop(index);\n  }\n\n  // otherwise return the single property\n  return parseStagger(value, index);\n};\n\nexport { staggerProperty };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/stagger-property.babel.js","import { ClassProto } from '../class-proto';\nimport { tweenDefaults } from './tween-defaults';\nimport { tweener } from './tweener';\nimport { parseEasing } from '../easing/parse-easing';\nimport { staggerProperty } from '../helpers/stagger-property';\n\n/* -------------------- */\n/* The `Tween` class  */\n/* -------------------- */\n\nconst Tween = Object.create(ClassProto);\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n * @override ClassProto\n */\nTween._declareDefaults = function() {\n  this._defaults = { ...tweenDefaults };\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * play - function to `play` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.play = function() {\n  if (this._state === 'play') {\n    return this;\n  }\n\n  this._setState('play');\n  this._setupPlay();\n\n  this._playTime = performance.now();\n  this._speed = this._props.speed;\n\n  return this;\n};\n\n/**\n * pause - function to `pause` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.pause = function() {\n  if (this._state === 'pause' || this._state === 'stop') { return this; }\n\n  tweener.remove(this);\n  this._setState('pause');\n  // reset speed variable to `1` because speed should not be applied\n  // when setProgress is used\n  this._speed = 1;\n\n  return this;\n};\n\n/*\n * stop - function to stop the tween.\n *\n * @public\n * @param {Number} Progress to stop with in [0...1]\n * @returns {Object} This tween.\n */\nTween.stop = function(progress) {\n  if (this._state === 'stop') { return this; }\n\n  var stopProc = (progress !== void 0) ? progress\n    /* if no progress passsed - set 1 if tween\n       is playingBackward, otherwise set to 0 */\n    : (this._props.isReverse === true) ? 1 : 0\n\n  this.setProgress(stopProc);\n  this.reset();\n\n  return this;\n};\n\n/**\n * play - function to `replay`(`retart`) the tween.\n *\n * @public\n * @param {Number} Repeat count.\n * @returns {Object} This tween.\n */\nTween.replay = function(repeat) {\n  this.reset();\n  this.play(repeat);\n\n  return this;\n};\n\n/**\n * setSpeed - function to set speed.\n *\n * @public\n * @param {Number} Speed in [0..∞]\n * @return {Object} This tween.\n */\nTween.setSpeed = function(speed) {\n  this._props.speed = speed;\n\n  if (this._state === 'play') {\n    this.setStartTime();\n    this._speed = speed;\n    this._playTime = performance.now();\n  }\n\n  return this;\n};\n\n/**\n * reverse - function to `reverse` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.reverse = function() {\n  this._props.isReverse = !this._props.isReverse;\n  // reverse callbacks in the `_cbs`\n  this._reverseCallbacks();\n\n  if (this._elapsed > 0) {\n    const { delay } = this._props;\n    this._elapsed = (this._end - this._spot) - (this._elapsed - delay);\n  }\n\n  this.setStartTime();\n\n  return this;\n};\n\n/**\n * setProgress - function to set tween progress.\n *\n * @public\n * @param {Number} Progress to set.\n * @return {Object} This tween.\n */\nTween.setProgress = function(progress = 0) {\n  (this._start === void 0) && this.setStartTime();\n\n  const time = (progress === 1)\n    ? this._end : this._spot + progress*(this._end - this._spot);\n\n  // set initial time\n  if (this._prevTime === void 0) {\n    this._prevTime = this._start;\n  }\n  // save speed before updating form `setProgress`\n  const speed = this._speed;\n  this._speed = 1;\n  // update with current time\n  this.update(time);\n  // restore speed after updating form `setProgress`\n  this._speed = speed;\n\n  return this;\n};\n\n/**\n * reset - function to reset the `Tween`.\n */\nTween.reset = function() {\n  tweener.remove(this);\n  this._isActive = false;\n  this._elapsed = 0;\n  this._repeatCount = 0;\n  this._setState('stop');\n  delete this._prevTime;\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * _setupPlay - function to setup before `play`.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween._setupPlay = function() {\n  this.setStartTime();\n  tweener.add(this);\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @return {type}  description\n */\nTween._vars = function() {\n  const {\n    isReverse,\n    onStart,\n    onComplete,\n    onChimeIn,\n    onChimeOut,\n    delay,\n    duration\n  } = this._props;\n\n  this._isActive = false;\n  // time progress\n  this._elapsed = 0;\n  // initial state\n  this._state = 'stop';\n  // set \"id\" speed\n  this._speed = 1;\n  this._time = delay + duration;\n  // how many times we have been repeating\n  this._repeatCount = 0;\n  // this._prevTime = -Infinity;\n  this._prevTime;\n  // callbacks array - used to flip the callbacks order on `isReverse`\n  this._cbs = [ onStart, onComplete, 0, 1 ];\n  // chime callbacks\n  this._chCbs = [ onChimeIn, onChimeOut ];\n  // if `isReverse` - flip the callbacks\n  if (isReverse === true) {\n    this._reverseCallbacks();\n  }\n};\n\n/**\n * setStartTime - function to set `startTime`\n *\n * @param {Number, Undefined} Start time to set.\n */\nTween.setStartTime = function(startTime = performance.now()) {\n  const { delay, duration, repeat, shiftTime } = this._props;\n\n  // if `elapsed` is greated that end bound -> reset it to `0`\n  if (this._elapsed >= (this._end - this._spot)) {\n    this._elapsed = 0;\n  }\n  // `_spot` - is the animation initialization spot\n  // `_elapsed` is how much time elapsed in the `active` period,\n  // needed for `play`/`pause` functionality\n  this._spot = startTime - this._elapsed + shiftTime;\n  // play time is needed to recalculate time regarding `speed`\n  this._playTime = this._spot;\n  // `_start` - is the active animation start time bound\n  this._start = this._spot + delay;\n  // `_end` - is the active animation end time bound\n  this._end = this._start + duration;\n};\n\n/**\n * update - function to update `Tween` with current time.\n *\n * @param {Number} The current update time.\n */\nTween.update = function(time) {\n  const { onUpdate, isReverse, easing, backwardEasing } = this._props;\n\n  // recalculate `time` regarding `speed`\n  time = this._playTime + this._speed*(time - this._playTime);\n\n  // save elapsed time\n  this._elapsed = time - this._spot;\n\n  // if pregress is not right - call the `onRefresh` function #before\n  if (time < this._start && this._progress !== this._cbs[2]) {\n    this._props.onRefresh(false, this.index, time);\n    this._progress = this._cbs[2];\n  }\n  // if pregress is not right - call the `onRefresh` function #after\n  if (time > this._end && this._progress !== this._cbs[3]) {\n    this._props.onRefresh(true, this.index, time);\n    this._progress = this._cbs[3];\n  }\n\n  // if forward progress\n  const isForward = time > this._prevTime;\n  const ease = (isForward !== isReverse) ? easing : backwardEasing;\n\n  if (time >= this._start && time <= this._end && this._prevTime !== void 0) {\n    let isActive;\n    const p = (time - this._start) / this._props.duration;\n    this._progress = isReverse === false ? p : 1 - p;\n    onUpdate(ease(this._progress), this._progress, isForward, time);\n\n    if (time > this._start && this._isActive === false && isForward === true) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, time);\n    }\n\n    if (time === this._start) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, time);\n      // set `isActive` to `true` for forward direction\n      // but set it to `false` for backward\n      isActive = isForward;\n    }\n\n    if (time < this._end && this._isActive === false && isForward === false) {\n      // `onComplete`\n      this._cbs[1](false, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, time);\n    }\n\n    if (time === this._end) {\n      // `onComplete`\n      this._cbs[1](isForward, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, time);\n      // set `isActive` to `false` for forward direction\n      // but set it to `true` for backward\n      isActive = !isForward;\n    }\n\n    this._isActive = (isActive === undefined) ? true : isActive;\n\n    this._prevTime = time;\n\n    return !this._isActive;\n  }\n\n  if (time > this._end && this._isActive === true) {\n    this._progress = this._cbs[3];\n    // one\n    onUpdate(ease(this._progress), this._progress, isForward, time);\n    // `onComplete`\n    this._cbs[1](isForward, isReverse, this.index);\n    // `onChimeOut`\n    this._chCbs[1](isForward, isReverse, this.index, time);\n    this._isActive = false;\n    this._prevTime = time;\n    return true;\n  }\n\n  if (time < this._start && this._isActive === true) {\n    this._progress = this._cbs[2];\n    // zero\n    onUpdate(ease(this._progress), this._progress, isForward, time);\n    // `onStart`\n    this._cbs[0](isForward, isReverse, this.index);\n    // `onChimeIn`\n    this._chCbs[0](isForward, isReverse, this.index, time);\n\n    this._isActive = false;\n    this._prevTime = time;\n\n    return true;\n  }\n\n  this._prevTime = time;\n};\n\n/**\n * Function to reverse callbacks.\n */\nTween._reverseCallbacks = function() {\n  this._cbs = [ this._cbs[1], this._cbs[0], this._cbs[3], this._cbs[2] ];\n};\n\n/*\n * Method set playback `_state` string and call appropriate callbacks.\n *\n * @private\n * @param {String} State name [play, pause, 'stop', 'reverse']\n */\nTween._setState = function(state) {\n  // save previous state\n  this._prevState = this._state;\n  this._state = state;\n  // callbacks\n  var wasPause = this._prevState === 'pause',\n      wasStop = this._prevState === 'stop',\n      wasPlay = this._prevState === 'play',\n      wasReverse = this._prevState === 'reverse',\n      wasPlaying = wasPlay || wasReverse,\n      wasStill = wasStop || wasPause;\n\n  if ((state === 'play' || state === 'reverse') && wasStill) {\n    this._props.onPlaybackStart(state, this._prevState);\n  }\n  if ( state === 'pause' && wasPlaying ) {\n    this._props.onPlaybackPause();\n  }\n  if ( state === 'stop' && (wasPlaying || wasPause)) {\n    this._props.onPlaybackStop();\n  }\n};\n\n/**\n * onTweenerFinish - function that is called when the tweeener finished\n *                   playback for this tween and removemd it from the queue\n *\n */\nTween.onTweenerFinish = function() {\n  const { isReverse, repeat, isReverseOnRepeat, onPlaybackComplete } = this._props;\n  const count = this._repeatCount;\n\n  onPlaybackComplete(!isReverse, count, repeat - count);\n\n  this.reset();\n\n  if (repeat - count > 0) {\n    if (staggerProperty(isReverseOnRepeat, count)) {\n      this.reverse();\n    }\n\n    this._repeatCount = count + 1;\n    this.play();\n  }\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nTween._extendDefaults = function() {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  for (let key in this._props) {\n    this._props[key] = staggerProperty(this._props[key], this.index);\n  }\n  // parse `easing`\n  this._props.easing = parseEasing(this._props.easing);\n  // parse `backwardEasing`, fallback to `easing` if\n  // `backwardEasing` is `null`/`undefined`\n  const { easing, backwardEasing } = this._props;\n  this._props.backwardEasing = (backwardEasing != null)\n                                ? parseEasing(backwardEasing) : easing;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tween);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tween;\n\nexport { wrap as Tween };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween.babel.js","import { tweenDefaults } from '../tween/tween-defaults';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst separateTweenOptions = (object) => {\n  let tweenOptions;\n  for (let option in tweenDefaults) {\n    if (object[option] !== void 0) {\n      tweenOptions = tweenOptions || {};\n      tweenOptions[option] = object[option];\n      delete object[option];\n    }\n  }\n\n  return tweenOptions;\n};\n\nexport { separateTweenOptions as separateTweenOptions };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/separate-tween-options.babel.js","const tweenDefaults = {\n  // delay of the tween [-∞..∞]\n  delay:                  0,\n  // duration of the tween [0..∞]\n  duration:               350,\n  // speed of playback [0..∞], speed that is less then 1\n  // will slowdown playback, for instance .5 will make tween\n  // run 2x slower. Speed of 2 will speedup the tween to 2x.\n  speed:                  1,\n  // easing for the tween, could be any easing type\n  easing:                 'Sin.Out',\n  // Easing for backward direction of the tweenthe tween,\n  // if `null` - fallbacks to `easing` property.\n  // forward direction in `yoyo` period is treated as backward for the easing.\n  backwardEasing:         null,\n  // if should reverse the tween\n  isReverse:              false,\n  // how many times repeat the tween (excluding the first run)\n  repeat:                 0,\n  // if should `reverse` before repeating\n  isReverseOnRepeat:      false,\n  // `onUpdate` callback is called on every animation frame\n  onUpdate:               function(ep, p, isForward) {},\n  /*\n    onStart callback runs on very start of the tween just after onProgress\n    one. Runs on very end of the tween if tween is reversed.\n    @param {Boolean}  Direction of the tween.\n                      `true` for forward direction.\n                      `false` for backward direction(tween runs in reverse).\n  */\n  onStart:                function() {},\n  onComplete:             function() {},\n  // `onChimeIn` is invoked when the `Tween` becomes active\n  // kind of like `onStart` but regardless `isReverse` option\n  onChimeIn:              function() {},\n  // `onChimeOut` is invoked when the `Tween` becomes active\n  // kind of like `onComplete` but regardless `isReverse` option\n  onChimeOut:             function() {},\n  // onRefresh - callback is called when progress runs over the `_end` time\n  // and then suddenly goes before the `_start` time. Indecates that\n  // progress (1) should be refreshed to (0), or vice versa.\n  // @param {Boolean} isForward\n  //                    - `true` if skipped in forward direction\n  //                    - `false` if skipped in backward direction\n  onRefresh:              function() {},\n  // playback callbacks, these fire only when\n  // `play`, `replay`, `playBackward`, `replayBackward` called\n  onPlaybackStart:        function() {},\n  onPlaybackPause:        function() {},\n  onPlaybackStop:         function() {},\n  onPlaybackComplete:     function() {},\n  // tween index\n  index:                  0,\n  // shift time - mostly needed for timeline\n  shiftTime:              0\n};\n\nexport { tweenDefaults };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween-defaults.babel.js","import { ClassProto } from '../class-proto';\n\n/* --------------------- */\n/* The `Tweenable` class */\n/* --------------------- */\n\nconst Super = ClassProto;\nconst Tweenable = Object.create(Super);\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @private\n * @extends @ ClassProto\n */\nTweenable.init = function(o) {\n  Super.init.call(this, o);\n  // proxy all tween public methods to `timeline` with fallback to `tween`\n  const methods = [ 'play', 'pause', 'stop', 'replay', 'setSpeed', 'reverse', 'setProgress', 'reset', 'setStartTime' ];\n  for (let i = 0; i < methods.length; i++) {\n    const method = methods[i];\n    this[method] = (...rest) => {\n      rest; // otherwise rest arguments got lost\n      (this.timeline || this.tween)[method](...rest);\n    }\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tweenable);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tweenable;\n\nexport { wrap as Tweenable };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweenable.babel.js","import {\n  defaultEasing,\n  defaultEasingString,\n  consoleName\n} from '../constants';\n\nimport { easing } from './easing';\nimport { path } from './path';\n\n/**\n * parseEasing - function to parse all easing values to a function.\n *\n * @param  {String, Function, Array} Easing representation.\n * @return {Function} Parsed Easing.\n */\nconst parseEasing = (ease = defaultEasingString) => {\n  const type = typeof ease;\n\n  switch (type) {\n    case 'function': { return ease; }\n    case 'string': {\n      // path easing\n      if (ease[0].toLowerCase() === 'm') {\n          return path(ease);\n      }\n\n      ease = ease.toLowerCase().split('.');\n      const easeParent = easing[ease[0]];\n\n      if (!easeParent) {\n        console.error(`${consoleName} Easing with name \"${ease[0]}\" wasn't found, fallback to \"${defaultEasingString}\" instead.`, easing);\n\n        return easing[defaultEasing[0]][defaultEasing[1]];\n      }\n      return easeParent[ease[1]];\n    }\n    // // comming soon:\n    // //   - if array passed - parse as `bezier` function\n    // // ---\n    // case 'object' {\n    //   if (easing instanceof Array) {\n    //     return this.bezier.apply(this, easing);\n    //   } else {\n    //     console.error(\n    //       `:mojs: Failed to parse easing value of `,\n    //       easing,\n    //       ` fallback to \"linear.none\" instead`\n    //     );\n    //     return easing[defaultEasing[0]][defaultEasing[1]];\n    //   }\n    // }\n  }\n};\n\nexport { parseEasing as parseEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/parse-easing.babel.js","import { div } from './div';\n\n/**\n * `normalizeHex` - Function to normalize part of a HEX color to FF format,\n *                  if one character passed, return doubled version of it.\n *\n * @param {Steing} Color part to normalize.\n * @param {Steing} Normalized part of a color.\n */\nconst normalizeHex = (string) => {\n  return (string.length === 2) ? string : string + string;\n};\n\n/**\n * `parseHEXColor` - function to parse #HEX colors.\n */\nconst parseHEXColor = (color) => {\n  const result = /^#?([a-f\\d]{1,2})([a-f\\d]{1,2})([a-f\\d]{1,2})$/i.exec(color);\n  const colorObj = {}\n  if (result) {\n    return {\n      r: parseInt(normalizeHex(result[1]), 16),\n      g: parseInt(normalizeHex(result[2]), 16),\n      b: parseInt(normalizeHex(result[3]), 16),\n      a: 1\n    }\n  }\n}\n\n/**\n * Function to parse a color string to color object.\n *\n * @param {String} String to parse.\n * @returns {Object} Color object.\n */\nconst makeColorObject = (color) => {\n  const originColor = color;\n  // #HEX\n  if (color[0] === '#') {\n    return parseHEXColor(color);\n  } else {\n    const isRgb = (color[0] === 'r' && color[1] === 'g' && color[2] === 'b');\n    // if color is not `rgb`, it is a shortcut (`cyan`, `hotpink` etc)\n    // so we need to set the color on DOM element and get the calculated color\n    if (!isRgb) {\n      div.style.color = 'black';\n      div.style.color = color;\n      color = window.getComputedStyle(div).color;\n    }\n\n    // parse `rgb` color\n    const regexString1 = '^rgba?\\\\((\\\\d{1,3}),\\\\s?(\\\\d{1,3}),';\n    const regexString2 = '\\\\s?(\\\\d{1,3}),?\\\\s?(\\\\d{1}|0?\\\\.\\\\d{1,})?\\\\)$';\n    const result = new RegExp(regexString1 + regexString2, 'gi').exec(color);\n    const a = parseFloat(result[4] || 1);\n\n    if (result) {\n      const r = parseInt(result[1], 10);\n      const g = parseInt(result[2], 10);\n      const b = parseInt(result[3], 10);\n      // if origin color was not black but black\n      // returned from the DOM - that's an error\n      return (originColor !== 'black' && r === 0 && g === 0 && b === 0 && a === 1)\n        ? { isError: true } : { r, g, b, a };\n    }\n  }\n\n  return {\n    isError: true\n  }\n};\n\nexport { makeColorObject };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/make-color-object.babel.js","import { Tween } from '../tween/tween';\nimport { Timeline } from '../tween/timeline';\nimport { Tweenable } from '../tween/tweenable';\nimport { Delta } from './delta';\nimport { separateTweenOptions } from './separate-tween-options';\nimport { staggerProperty } from '../helpers/stagger-property';\n// TODO: should point to paMotionPath stub\nimport { MotionPath } from './motion-path';\n\n/* ------------------- */\n/* The `Deltas` class  */\n/* ------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Deltas = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nDeltas.init = function(o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // clone the options\n  const options = { ...o };\n  // get `timeline` options and remove them immediately\n  const timelineOptions = options.timeline;\n  delete options.timeline;\n\n  // get `customProperties` options and remove them immediately\n  this._customProperties = options.customProperties || {};\n  this._render = this._customProperties.render || (() => {});\n  this._pipeObj = this._customProperties.pipeObj || {};\n  delete options.customProperties;\n\n  // save the el object and remove it immediately\n  this._el = options.el || {};\n  delete options.el;\n  // create support object for complex properties\n  this._supportProps = {};\n  // set up the main `tween`\n  this._setupTween(options);\n  // set up the `timeline`\n  this._setupTimeline(timelineOptions);\n  // parse deltas from options that left so far\n  this._parseProperties(options);\n};\n\n/**\n * `_setupTween` - function to set up main tween.\n *\n * @param {Object} Options.\n */\nDeltas._setupTween = function(options) {\n  // separate main tween options\n  const tweenOptions = separateTweenOptions(options);\n  // create tween\n  this.tween = new Tween({\n    ...tweenOptions,\n    // update plain deltas on update\n    // and call the previous `onUpdate` if present\n    onUpdate: (ep, p, isForward) => {\n      // update plain deltas\n      this._upd_deltas(ep, p, isForward);\n      // envoke onUpdate if present\n      tweenOptions.onUpdate && tweenOptions.onUpdate(ep, p, isForward);\n    }\n  });\n};\n\n/**\n * `_setupTimeline` - function to set up main timeline.\n *\n * @param {Object} Timeline options.\n */\nDeltas._setupTimeline = function(options = {}) {\n  const support = {\n    props: this._supportProps,\n    pipeObj: this._pipeObj\n  };\n\n  this.timeline = new Timeline({\n    ...options,\n    onUpdate: (ep, p, isForward) => {\n      // call render function\n      this._render(this._el, support, ep, p, isForward);\n      // envoke onUpdate if present\n      options.onUpdate && options.onUpdate(ep, p, isForward);\n    }\n  });\n  this.timeline.add(this.tween);\n\n};\n\n/**\n * `_parseProperties` - function to parse deltas and static properties.\n *\n * @param {Object} Options.\n */\nDeltas._parseProperties = function(options) {\n  // deltas that have tween\n  this._tweenDeltas = [];\n  // deltas that don't have tween\n  this._plainDeltas = [];\n  // static properties\n  this._staticProps = {};\n  // loop thru options and create deltas with objects\n  for (let key in options) {\n    const value = options[key];\n    // if value is tatic save it to static props\n    if (typeof value !== 'object') {\n      // find out property `el`, it can be `supportProps` if the `isSkipRender`\n      // is set for the property in the `customProperties`\n      const custom = this._customProperties[key];\n      const target = (custom && custom.isSkipRender)\n        ? this._supportProps\n        : this._el;\n      // parse if `stagger(20, 40)` defined\n      const property = staggerProperty(value, this.index);\n      this._staticProps[key] = property;\n      target[key] = property;\n      continue;\n    }\n    // check the delta type\n    let delta;\n    if (value.path !== undefined) {\n      delta = new MotionPath({\n        el: this._el,\n        ...value,\n        supportProps: this._supportProps,\n        property: key,\n        index: this.index\n      });\n    } else {\n      // if value is not motion path, create delta object\n      delta = new Delta({\n        key,\n        target: this._el,\n        supportProps: this._supportProps,\n        object: value,\n        customProperties: this._customProperties,\n        index: this.index\n      });\n    }\n\n    // check if delta has own tween and add to `_tweenDeltas`\n    if (delta.tween) { this._tweenDeltas.push(delta); }\n    // else add to plain deltas\n    else { this._plainDeltas.push(delta); }\n  }\n  // add tween deltas to the timeline\n  this.timeline.add(this._tweenDeltas);\n};\n\n/**\n * `_upd_deltas` - function to update the plain deltas.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDeltas._upd_deltas = function(ep, p, isForward) {\n  // update plain deltas\n  for (let i = 0; i < this._plainDeltas.length; i++ ) {\n    this._plainDeltas[i].update(ep, p, isForward);\n  }\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Deltas);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Deltas;\n\nexport { wrap as Deltas };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/deltas.babel.js","import { Tween } from '../tween/tween';\nimport { ClassProto } from '../class-proto';\nimport { separateTweenOptions } from './separate-tween-options';\nimport { staggerProperty } from '../helpers/stagger-property';\n\n/* ----------------------- */\n/* The `MotionPath` class  */\n/* ----------------------- */\n\n// TODO:\n//  - add unit?\n//  - add bounds?\n//  - add pipe?\n\nconst Super = ClassProto;\nconst MotionPath = Object.create(Super);\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * `update` - function to update the MotionPath.\n *\n * @public\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If is forward direction.\n * @param {Object} This motion path.\n */\nMotionPath.update = function(ep, p, isForward) {\n  const { precision, coordinate, property, supportProps } = this._props;\n  const { step } = this._samples;\n\n  const index = (ep/step) | 0; // convert to integer\n  const key = index*step; // get the key\n  const nextKey = (index + 1)*step; // get the next key\n\n  const diff = ep - key; // get error for the eased progress\n  const value = this._samples.get(key)[coordinate]; // get the value\n\n  let norm = value;\n  // if next key is present, calculate the normalized value\n  // regarding the eased progress error\n  if (nextKey <= 1)  {\n    const nextValue = this._samples.get(nextKey)[coordinate];\n    norm = value + ((nextValue - value) * (diff/step));\n  }\n\n  this._target[property] = norm;\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * `_samplePath` - function to sample path coordinates.\n *\n * @private\n * @param {Number} Number of floating point digits.\n */\nMotionPath._samplePath = function(n = this._props.precision) {\n  const  totalLength = this._path.getTotalLength();\n  const step = 1/n;\n  // create the samples map and save main properties\n  this._samples = new Map();\n  this._samples.step = step;\n  this._samples.totalLength = totalLength;\n  // samples the path, `key` is in range of [0..1]\n  for (var i = 0; i < n; i++) {\n    const key = i*step;\n    this._setForKey(key);\n  }\n  // the last sample is for `1`\n  this._setForKey(1);\n};\n\n/**\n * `_setForKey` - helper function for `_samplePath`,\n *                sets a key/value regarding `totalLength` on the map.\n *\n * @param  {Number} key Map key [0...1].\n */\nMotionPath._setForKey = function(key) {\n  const { totalLength } = this._samples;\n  // x/y computation\n  const length = key*totalLength;\n  const point = this._path.getPointAtLength(length);\n  const prevPoint = this._path.getPointAtLength(length - 1);\n  // cangle computation\n  const dY = point.y - prevPoint.y;\n  const dX = point.x - prevPoint.x;\n  const atan = (!isFinite(Math.atan(dY/dX))) ? 0 : Math.atan(dY/dX);\n  const angle = atan*(180/Math.PI);\n  // set the point to the map\n  this._samples.set(key, { x: point.x, y: point.y, angle });\n};\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath.init = function(o={}) {\n  // super call\n  Super.init.call(this, o);\n  // get target, if the `isSkipRender` is set on `property`\n  // in `customProperties`, use `supportProps` otherwise use `el`\n  const { el, supportProps, property, customProperties } = this._props;\n  const custom = customProperties[property];\n  this._target = (custom && custom.isSkipRender) ? supportProps : el;\n  // parse path\n  this._parsePath();\n  // precompute path\n  this._samplePath();\n  // set up tween\n  this._setupTween();\n};\n\n/**\n * `_setupTween` - function set up tween if needed.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath._setupTween = function() {\n  // options\n  const options = { ...this._o };\n  // separate tween  options\n  const tweenOptions = separateTweenOptions(options);\n  if (tweenOptions !== undefined) {\n    this.tween = new Tween({\n      ...tweenOptions,\n      // send `onUpdate` function to call the `this.update` function\n      // and envoke previous `onUpdate`\n      onUpdate: (ep, p, isForward) => {\n        this.update(ep, p, isForward);\n        // envoke old `onUpdate` if is present\n        if (tweenOptions.onUpdate !== void 0) {\n          tweenOptions.onUpdate(ep, p, isForward);\n        }\n      }\n    });\n  }\n};\n\n/**\n * `_decalreDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nMotionPath._declareDefaults = function(o={}) {\n  this._defaults = {\n    el: null,\n    supportProps: null,\n    customProperties: {},\n    path: 'M0,0 L100,100',\n    precision: 140,\n    coordinate: 'x',\n    property: 'x'\n  };\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nMotionPath._extendDefaults = function() {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  for (let key in this._props) {\n    this._props[key] = staggerProperty(this._props[key], this.index);\n  }\n\n  const { property } = this._props;\n  if (property === 'y' || property === 'angle') {\n    this.setIfNotSet('coordinate', property);\n  }\n};\n\n/**\n * `_parsePath` - function to parse SVG motion path.\n */\nMotionPath._parsePath = function() {\n  const { path } = this._props;\n  this._path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  this._path.setAttributeNS(null, 'd', path);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(MotionPath);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = MotionPath;\n\nexport { wrap as MotionPath };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/motion-path.babel.js","import { getRegexpUnit } from '../delta/get-regexp-unit';\n\n/**\n * `parseStagger` - function to parse `stagger()` strings.\n *\n * @param {_} Property value.\n * @param {Number} Stagger index.\n * @returns {String, Any} Parsed stagger value or unattended value.\n */\nconst parseStagger = (value, index) => {\n  const type = typeof value;\n  // if not string return the value itself as it can not be a stagger string\n  if (type !== 'string') { return value; }\n  // if string test it on `stagger` sequence, if not present\n  // return the value as it is not a stagger string\n  if (!value.match(/^stagger\\(/)) { return value; }\n\n  // split the value `stagger([body])`\n  const body = value.split(/stagger\\(|\\)$/)[1].toLowerCase();\n  // split the body\n  const stagger = body.split(/([^\\(,\\s]+)(?=\\s*,|\\s*$)/gim);\n  // assume two values in the `stagger(20, 20)`\n  let base = stagger[1];\n  let step = stagger[3];\n  // if only one value provided in the `stagger(20)`\n  if (stagger.length <= 3) {\n    base = 0;\n    step = stagger[1];\n  }\n  // parse base\n  const baseValue = parseFloat(base);\n  const baseUnit = getRegexpUnit(base);\n  // parse step\n  const stepValue = parseFloat(step);\n  const stepUnit = getRegexpUnit(step);\n  // get result unit and result\n  const unit = (baseUnit) ? baseUnit : stepUnit;\n  const result = baseValue + index*stepValue;\n  // if unit is present - return the result with unit, otherwise return number\n  return (unit) ? `${result}${unit}` : result;\n};\n\nexport { parseStagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-stagger.babel.js","import { unitRegexp } from './unit-regexp';\n\nconst getRegexpUnit = (value) => {\n  if (typeof value !== 'string') { return undefined; }\n  const valueMatch = value.match(unitRegexp);\n\n  return (valueMatch !== null) ? valueMatch[0] : undefined;\n};\n\nexport { getRegexpUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/get-regexp-unit.babel.js","/**\n * The regexp intended to parse all `units` supported.\n */\nconst unitRegexp = /px|%|rem|em|ex|cm|ch|mm|in|pt|pc|vh|vw|vmin|deg|fr/gim;\n\nexport { unitRegexp as unitRegexp };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/unit-regexp.babel.js","const parsePath = (path) => {\n  const domPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  domPath.setAttributeNS(null, 'd', path);\n  return domPath;\n};\n\nconst sample = (path, n) => {\n  const step = 1/n;\n  const totalLength = path.getTotalLength();\n  // create the samples map and save main properties\n  const samples = [];\n  // samples the path, `key` is in range of [0..1]\n  for (var i = 0; i < n+1; i++) {\n    const point = path.getPointAtLength(i*step*totalLength);\n    samples[i] = {\n      x: point.x/100,\n      y: point.y/100\n    };\n  };\n\n  return samples;\n};\n\n\nconst findY = (key, samples, n) => {\n  let start = 0;\n  let end = samples.length-1;\n  const step = 1/n;\n  // find `start`/`end` bounds with binary search\n  while (Math.abs(end - start) > 1) {\n    const n = end - start;\n    const middle = start + Math.floor(n/2);\n    const value = samples[middle];\n\n    if (key === value.x) { return value.y; }\n    // shift a bound regarding the `value.x` value\n    (key < value.x) ? (end = middle) : (start = middle);\n  }\n  // when the loop stops - we've found `start` and `end` bounds\n  const value = samples[start];\n  // if key is greate than `start` - normalize it\n  if (key > value.x) {\n    const nextValue = samples[start+1];\n    if (nextValue !== void 0) {\n      const diff = value.x - key;\n      return value.y - ((nextValue.y - value.y)*(diff/step));\n    }\n  }\n\n  return value.y;\n};\n\nconst translateSamples = (samples, n) => {\n  const map = new Map();\n  const step = 1/n;\n  // samples the path, `key` is in range of [0..1]\n  for (var i = 0; i < n+1; i++) {\n    const key = i*step;\n    map.set(key, 1 - findY(key, samples, n));\n  }\n\n  return map;\n};\n\nconst path = (path, n = 200) => {\n  const preSamples = sample(parsePath(path), n);\n  const samples = translateSamples(preSamples, n);\n  const step = 1/n;\n\n  return (p) => {\n    const index = (p/step) | 0; // convert to integer\n    const key = index*step; // get the key\n    const nextKey = (index + 1)*step; // get the next key\n    let y = samples.get(key); // get the y\n    // if next key is present, calculate the normalized y\n    // regarding the progress error\n    if (nextKey <= 1)  {\n      const nextY = samples.get(nextKey);\n      y = y + ((nextY - y) * ((p - key)/step));\n    }\n\n    return y;\n  };\n};\n\nexport { path };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/path.babel.js","import { path } from './path';\n/**\n * TODO:\n *  [] add `setParent` public method.\n */\n\nimport { pow } from './pow';\n\n/**\n * `easing` - object that holds all easing avaliable in `mojs`.\n */\nconst easing = {\n  /**\n   * `Linear` easing, also `null` or `id` easing - simply returns whatever\n   * passed to the function.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  linear: { none: k => k },\n\n  /**\n   * `Sin` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  sin: {\n     in: (k) => { return 1 - Math.cos(k * Math.PI / 2); },\n     out: (k) => { return Math.sin(k * Math.PI / 2); },\n     inout: (k) => { return 0.5 * (1 - Math.cos(Math.PI * k)); }\n  },\n\n  pow,\n  path\n};\n\nexport { easing as easing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/easing.babel.js","const pow = (p = 2) => {\n  const easeIn = (p => t => Math.pow(t, p))(p);\n  const easeOut = (p => t => 1 - Math.abs(Math.pow(t-1, p)))(p);\n\n  return {\n    in: easeIn,\n    out: easeOut,\n    inout: t => t < .5 ? easeIn(t*2)/2 : easeOut(t*2 - 1)/2 + .5\n }\n}\n\nexport { pow as pow };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/pow.babel.js","\n/**\n * Constants.\n */\nexport const defaultEasing = [ 'sin', 'out' ];\nexport const defaultEasingString = defaultEasing.join('.');\nexport const name = 'mojs';\nexport const consoleName = `:${name}:`;\nexport const bundleLink = 'https://aka.ms/mojs-bundle';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.babel.js","/**\n * Tweener - singleton object that is responsible of:\n *  - starting `requestAnimationFrame` loop\n *  - stopping `requestAnimationFrame` loop\n *  - holding `tween`/`timeline` objects and passing current time to them.\n */\n\nconst tweens = [];\nlet savedTweens = [];\nlet isRunning = false;\n\n/**\n * `savePlayingTweens` - function to store all playing tweenes\n *                       when user leaves a page.\n */\nconst savePlayingTweens = () => {\n  savedTweens = tweens.slice(0);\n  for (let i = 0; i < savedTweens.length; i++ ) {\n    savedTweens[i].pause();\n  }\n};\n\n/**\n * `restorePlayingTweens` - function to restore all playing tweens.\n */\nconst restorePlayingTweens = () => {\n  for (let i=0; i < savedTweens.length; i++ ) {\n    savedTweens[i].play();\n  }\n};\n\n/**\n * `onVisibilityChange` - visibilityChange handler.\n */\nconst onVisibilityChange = () => {\n  if (document['hidden']) { savePlayingTweens() }\n  else { restorePlayingTweens(); }\n};\n\n/**\n * `stop` - function to stop the animation loop.\n */\nconst stop = () => {\n  tweens.length = 0;\n  isRunning = false;\n};\n\n// needed?\n// /**\n//  * `removeAll` - function stop updating all the child tweens/timelines.\n//  *\n//  * @return {type}  description\n//  */\n// const removeAll = () => { tweens.length = 0; };\n\n/**\n * `remove` - function to remove specific tween/timeline form updating.\n */\nconst remove = (tween) => {\n  var index = (typeof tween === 'number')\n                ? tween : tweens.indexOf(tween);\n\n  if (index !== -1) {\n    tween = tweens[index];\n    // needed?\n    // tween._isRunning = false;\n    tweens.splice(index, 1);\n  }\n};\n\n/**\n *  `update` - fucntion  to update every tween/timeline on animation frame.\n */\nconst update = (time) => {\n  var i = tweens.length;\n  while(i--) {\n    var tween = tweens[i];\n    if (tween.update(time) === true) {\n      remove(tween);\n      tween.onTweenerFinish();\n    }\n  }\n};\n\n/*\n Main animation loop. Should have only one concurrent loop.\n @private\n @returns this\n*/\nconst loop = () => {\n  if (tweens.length === 0) { return stop(); }\n  update(performance.now());\n  requestAnimationFrame(loop);\n};\n\n/**\n * `start` - function to start the animation loop.\n */\nconst start = () => {\n  if (isRunning) { return; };\n  isRunning = true;\n  requestAnimationFrame(loop);\n};\n\n/**\n * `add` - function to add a Tween/Timeline to loop pool.\n */\nconst add = (tween) => {\n tweens.push(tween);\n start();\n};\n\n/**\n * `caffeinate` - function to keep tweener awake on page blur.\n */\nconst caffeinate = () => {\n  document.removeEventListener('visibilitychange', onVisibilityChange, false);\n};\n\n// listen to visibility change\ndocument.addEventListener('visibilitychange', onVisibilityChange, false);\n\nconst tweener = { add, remove, caffeinate };\n\n// const tweener = new Tweener;\nexport { tweener as tweener };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweener.babel.js","import { ClassProto } from '../class-proto';\nimport { Tween } from '../tween/tween';\nimport { splitDelta } from './split-delta';\nimport { parseNumber } from './parse-number';\nimport { parseUnit } from './parse-unit';\nimport { parseColor } from './parse-color';\nimport { unitRegexp } from './unit-regexp';\nimport { staggerProperty } from '../helpers/stagger-property';\nimport { makeColorObject } from '../helpers/make-color-object';\n\n/*\n  TODO:\n    - rename `target` to `el`\n*/\n\n// map that holds all available parsers\nconst parsersMap = {\n  number: parseNumber,\n  unit: parseUnit,\n  color: parseColor\n};\n\n/* ------------------ */\n/* The `Delta` class  */\n/* ------------------ */\n\nconst Delta = Object.create(ClassProto);\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nDelta.init = function(o = {}) {\n  // super call\n  ClassProto.init.call(this, o);\n  // save target\n  const { target, supportProps, customProperties = {}, key } = this._props;\n  // if the `isSkipRender` property is set, set the property on\n  // `supportProps` otherwise set is as ususal on the `target` object\n  this._target = (customProperties[key] && customProperties[key].isSkipRender)\n    ? supportProps : target;\n  // parse delta\n  this._parseDelta();\n  // set up the update function acording to the delta type\n  this.update = this[`_upd_${this._delta.type}`];\n  // set up the tween\n  this._setupTween();\n};\n\n/**\n * `_upd_number` - function to update `number` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_number = function(ep, p, isForward) {\n  const { curve, delta, start, end } = this._delta;\n  const { key } = this._props; \n\n  this._target[key] = (curve === void 0)\n    ? start + ep*delta\n    : curve(p)*start + p*delta;\n\n  return this;\n};\n\n/**\n * `_upd_unit` - function to update `unit` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_unit = function(ep, p, isForward) {\n  const { curve, delta, start, end, unit } = this._delta;\n  const { key } = this._props;\n\n  const value = (curve === void 0)\n    ? start + ep*delta\n    : curve(p)*start + p*delta;\n\n  this._target[key] = `${value}${unit}`;\n\n  return this;\n};\n\n/**\n * `_upd_color` - function to update `color` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_color = function(ep, p, isForward) {\n  const { curve, delta, start, end } = this._delta;\n  const { key } = this._props;\n\n  if (curve === void 0) {\n    const r = start.r + ep*delta.r;\n    const g = start.g + ep*delta.g;\n    const b = start.b + ep*delta.b;\n    const a = start.a + ep*delta.a;\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  } else {\n    const curveP = curve(p);\n    const r = curveP*start.r + p*delta.r;\n    const g = curveP*start.g + p*delta.g;\n    const b = curveP*start.b + p*delta.b;\n    const a = curveP*start.a + p*delta.a;\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  }\n\n  return this;\n};\n\n/**\n * `_setupTween` - function to set up tween if needed.\n */\nDelta._setupTween = function () {\n  const { tweenOptions } = this._delta;\n  // set up tween if `tweenOptions` is set\n  if (tweenOptions === void 0) { return; }\n\n  // create tween with tween options\n  this.tween = new Tween({\n    index: this.index,\n    ...tweenOptions,\n    // send `onUpdate` function to call the `this.update` function\n    // and envoke previous `onUpdate`\n    onUpdate: (ep, p, isForward) => {\n      this.update(ep, p, isForward);\n      // envoke old `onUpdate` if is present\n      if (tweenOptions.onUpdate !== void 0) {\n        tweenOptions.onUpdate(ep, p, isForward);\n      }\n    }\n  });\n};\n\n/**\n * `_declareDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nDelta._declareDefaults = function() {\n  this._defaults = {\n    key: null,\n    object: null,\n    customProperties: {},\n    target: null,\n    supportProps: null\n  };\n};\n\n/**\n * `_parseDelta` - function to parse delta.\n *\n * @private\n */\nDelta._parseDelta = function() {\n  const { key, customProperties } = this._props;\n\n  (customProperties[key] != null)\n      ? this._parseByCustom()\n      : this._parseByGuess();\n};\n\n/**\n * `_parseByGuess` - function to parse delta by guess.\n *\n * @private\n */\nDelta._parseByGuess = function() {\n  const { key, object } = this._props;\n  const split = this._getSplit(object);\n  // // try to parse `start`/`end` as colors first, if ok - this is a color delta\n  const startColor = makeColorObject(split.start);\n  const endColor = makeColorObject(split.end);\n  if (!startColor.isError && !endColor.isError) {\n      return this._delta = parseColor(key, split);\n  }\n  // conver the delta properties to string and check if unit is present\n  const isUnit = `${split.start}`.match(unitRegexp) ||\n                 `${split.end}`.toString().match(unitRegexp);\n  // parse regarding unit presence\n  const parseType = (isUnit) ? 'unit' : 'number';\n  this._delta = parsersMap[parseType](key, split);\n};\n\n/**\n * `_parseByCustom` - function to parse delta with help of customProperties.\n *\n * @private\n */\nDelta._parseByCustom = function() {\n  const { key, object, customProperties } = this._props;\n\n  const customProperty = customProperties[key];\n  const { type } = customProperty;\n\n  this._delta = parsersMap[type](key, this._getSplit(object));\n};\n\n/**\n * `_getSplit` - function to get options split\n *               and parse `stagger` in `start`/`end` properties.\n *\n * @param {Object} Object to split.\n * @return {Object} Split.\n */\nDelta._getSplit = function(object) {\n  const split = splitDelta(object);\n  // parse the `stagger` in `start`/`end` delta properties\n  split.start = staggerProperty(split.start, this.index);\n  split.end = staggerProperty(split.end, this.index);\n\n  return split;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Delta);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Delta;\n\nexport { wrap as Delta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/delta.babel.js","import { makeColorObject } from '../helpers/make-color-object';\n\n/**\n * Function parse color delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseColor = (name, object) => {\n  const start = makeColorObject(object.start);\n  const end = makeColorObject(object.end);\n  const delta = {\n    r: end.r - start.r,\n    g: end.g - start.g,\n    b: end.b - start.b,\n    a: end.a - start.a\n  };\n\n  return {\n    ...object,\n    type: 'color',\n    name, start,\n    end, delta\n  };\n};\n\nexport { parseColor };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-color.babel.js","import { getRegexpUnit } from './get-regexp-unit';\n\n/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseUnit = (name, object) => {\n  const result = {\n    type: 'unit',\n    name,\n    ...object\n  };\n\n  // get start and end units\n  const startUnit = getRegexpUnit(result.start);\n  const endUnit = getRegexpUnit(result.end);\n  // get the unit for both with priority to startUnit\n  result.unit = endUnit || startUnit || 'px';\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-unit.babel.js","/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseNumber = (name, object) => {\n  const result = {\n    type: 'number',\n    name,\n    ...object\n  };\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseNumber as parseNumber };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-number.babel.js","import { parseEasing } from '../easing/parse-easing';\nimport { tweenDefaults } from '../tween/tween-defaults';\nimport { separateTweenOptions } from '../delta/separate-tween-options';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst splitDelta = (object) => {\n  object = { ...object };\n  // save curve because we need it directly on the\n  // parsed `delta` object vs `tween`\n  const curve = (object.curve !== void 0) ? parseEasing(object.curve) : void 0;\n  delete object.curve;\n  // extract tween options\n  const tweenOptions = separateTweenOptions(object);\n  // at this point only the `start` -> `end` should left get the values\n  const start = Object.keys(object)[0];\n  const end = object[start];\n\n  return { start, end, curve, tweenOptions };\n};\n\nexport { splitDelta as splitDelta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/split-delta.babel.js","import { Tween } from './tween';\nimport { ClassProto } from '../class-proto';\nimport { consoleName } from '../constants';\n\n// TODO:\n//  - add `onRefresh` that will call all the child items.\n\n/* --------------------- */\n/* The `Timeline` class  */\n/* --------------------- */\n\nconst Super = Tween.__mojsClass;\nconst Timeline = Object.create(Super);\n\n/**\n * _declareDefaults - function do override some defaults.\n *\n * @overrides @ Tween\n * @private\n */\nTimeline._declareDefaults = function() {\n  // super call\n  Super._declareDefaults.call(this);\n  // reset `duration` to `0` because user cannot set duration of a Timeline -\n  // it is calculated automatically regarding child timelines durations\n  // this._defaults.duration = 0;\n  // reset the `easing` since timeline should not have easing by default\n  this._defaults.easing = 'linear.none';\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * add - function to add `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to add.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.add = function(tween, shift = 0) {\n  // make sure the shift is positive\n  shift = Math.abs(shift);\n  // if tween is really an array of tweens,\n  // loop thru them and add one by one\n  if (tween instanceof Array) {\n    tween.forEach((tween) => { this.add(tween, shift); });\n  // if a single tween, add it to `_items`\n  } else {\n\n    // if it has child `timeline` or `tween` property - add it instead\n    const runner = tween.timeline || tween.tween;\n    if (runner) { tween = runner; }\n\n    // set the `shiftTime` on tween\n    tween.set('shiftTime', shift);\n    // add to child timelines\n    this._items.push(tween);\n    // check if we need to increase timeline's bound\n    const { delay, duration, shiftTime } = tween._props;\n    const time = delay + duration + shiftTime;\n    this._props.duration = Math.max(this._props.duration, time);\n  }\n\n  return this;\n};\n\n/**\n * append - function to append `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to append.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.append = function(tween, shift = 0) {\n  // add the tweens shifting them to the current `duration`\n  this.add(tween, this._props.duration + Math.abs(shift));\n\n  return this;\n};\n\n/**\n * stop - function to stop the Timeline.\n *\n * @public\n * @param   {Number} Progress [0..1] to set when stopped.\n * @returns {Object} Self.\n */\nTimeline.stop = function(progress) {\n  Super.stop.call(this, progress);\n\n  for (var i = this._items.length-1; i >= 0; i--) {\n    this._items[i].stop(progress);\n  }\n\n  return this;\n};\n\n/**\n * reset - function to reset tween's state and properties.\n *\n * @public\n * @overrides @ Tween\n * @returns this.\n */\nTimeline.reset = function() {\n  Super.reset.call(this);\n  this._callOnItems('reset');\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * setStartTime - function to set the start tme for the the Timeline.\n *\n * @extends @ Tween\n * @public\n *\n * @param  {Number} Start time.\n */\nTimeline.setStartTime = function(time) {\n  Super.setStartTime.call(this, time);\n  this._callOnItems('setStartTime', this._start);\n\n  return this;\n};\n\n/**\n * Timeline - function to call a function on all child items.\n *\n * @param  {String} `name` Function name.\n * @param  {Arrag} args All other arguments.\n */\nTimeline._callOnItems = function(name, ...args) {\n  for (var i = 0; i < this._items.length; i++) {\n    this._items[i][name](...args);\n  }\n};\n\n/**\n * _createUpdate - function constructor to update the Timeline and child items.\n *\n * @private\n * @param {Function} `onUpdate` callback from passed options.\n * @param {Object} Instance.\n */\nTimeline._createUpdate = function (onUpdate, context) {\n  /**\n   * _createUpdate - function constructor to update the Timeline and child items.\n   *\n   * @private\n   * @param {Number} Eased progress [0...1].\n   * @param {Number} Progress [0...1].\n   * @param {Boolean} If forward or backward direction.\n   * @param {Number} Update time.\n   */\n  return function(ep, p, isForward, time) {\n    // 1. the order is important\n    for (var i = 0; i < context._items.length; i++) {\n      context._items[i].update(time);\n    }\n    // 2. the order is important\n    onUpdate(ep, p, isForward, time);\n  };\n};\n\n/**\n * _vars - declare vars.\n *\n * @extends @ Tween\n * @private\n */\nTimeline._vars = function () {\n  Super._vars.call(this);\n  // child `timelines`\n  this._items = [];\n  // reset the duraton because timeline cannot have it\n  this._props.duration = 0;\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @overrides @ Tween\n * @private\n */\nTimeline._extendDefaults = function() {\n  // super call\n  Super._extendDefaults.call(this);\n  // save the `onUpdate` callback\n  this._onUpdate = this._props.onUpdate;\n  // redefine the `onUpdate` callback to `_createUpdate` function\n  this._props.onUpdate = this._createUpdate(this._onUpdate, this);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Timeline);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Timeline;\n\nexport { wrap as Timeline };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/timeline.babel.js","import { Tweenable } from './tween/tweenable';\nimport { Deltas } from './delta/deltas';\nimport { ClassProto } from './class-proto';\n\n/* ----------------- */\n/* The `Html` class  */\n/* ----------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Html = Object.create(Super);\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._declareDefaults = function() {\n  this._defaults = {\n    is3d: false,\n    el: null,\n    customProperties: {},\n\n    x: 0,\n    y: 0,\n    z: 0,\n\n    skewX: 0,\n    skewY: 0,\n\n    angle: 0,\n    angleX: 0,\n    angleY: 0,\n    angleZ: 0,\n\n    scale: 1,\n    scaleX: 1,\n    scaleY: 1,\n    scaleZ: 1\n  };\n};\n\n/**\n * `init` - function init the class.\n *\n * @public\n * @extends @Tweenable\n */\nHtml.init = function(o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // setup deltas\n  this._setupDeltas();\n};\n\n/**\n * `_setupDeltas` - function to set up `Deltas`.\n *\n * @private\n */\nHtml._setupDeltas = function() {\n  const customProperties = this._getCustomProperties();\n\n  this._deltas = new Deltas({\n    ...this._props,\n    customProperties\n  });\n  // save the `timeline` to make the `tweenable` work\n  this.timeline = this._deltas.timeline;\n};\n\n/**\n* `_render` - function to render the component.\n*\n* @private\n* @param {Object} Target object to render to.\n* @param {Array} Support objects.\n*          @param {Object} support[0] Support object that will have\n*                                     all properties that are `isSkipRender`.\n*          @param {Object} support[1] Support render (original `render`\n*                                     from `customProperties` in this context).\n*/\nHtml._render = function(target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n\n  target.transform = `translate(${props.x}, ${props.y}) rotate(${props.angle}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale(${props.scale})`;\n\n  // call the `supportRender`\n  pipeObj(target, support);\n};\n\n/**\n * `_render3d` - function to render the component with 3d styles.\n *\n * @private\n * @param {Object} Target object to render to.\n * @param {Array} Support objects.\n *          @param {Object} support[0] Support object that will have\n *                                     all properties that are `isSkipRender`.\n *          @param {Object} support[1] Support render (original `render`\n *                                     from `customProperties` in this context).\n */\nHtml._render3d = function(target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n\n  const rotateZ = (props.angleZ !== undefined) ? props.angleZ : props.angle;\n  const scaleX = (props.scaleX !== undefined) ? props.scaleX : props.scale;\n  const scaleY = (props.scaleY !== undefined) ? props.scaleY : props.scale;\n  const scaleZ = (props.scaleZ !== undefined) ? props.scaleZ : props.scale;\n\n  target.transform = `translate3d(${props.x}, ${props.y}, ${props.z}) rotateX(${props.angleX}deg) rotateY(${props.angleY}deg) rotateZ(${rotateZ}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale3d(${scaleX}, ${scaleY}, ${scaleZ})`;\n  // call the `supportRender`\n  pipeObj(target, support);\n};\n\n/**\n * `_getCustomProperties` - function to create customProperties.\n *\n * @private\n * @return {Object} Custom properties.\n */\nHtml._getCustomProperties = function() {\n  const unitProps = ['x', 'y', 'z'];\n  const numberProps = ['angle', 'angleX', 'angleY', 'angleZ', 'skewX', 'skewY', 'scale', 'scaleX', 'scaleY', 'scaleZ'];\n  const { customProperties } = this._props;\n  const originalRender = customProperties.render;\n\n  const customProps = {\n    ...customProperties\n  };\n\n  for (let i = 0; i< unitProps.length; i++) {\n    const prop = unitProps[i];\n    customProps[prop] = { type: 'unit', isSkipRender: true };\n  }\n\n  for (let i = 0; i< numberProps.length; i++) {\n    const prop = numberProps[i];\n    customProps[prop] = { type: 'number', isSkipRender: true };\n  }\n\n  // if at least one of the `_default` properties set, pass the `render`\n  // function regarding the fact if the 3d property used\n  // otherwise pass thru the original `render` function\n  customProps.render = (this._isRender())\n    ? (this._is3dProperties()) ? this._render3d : this._render\n    : originalRender;\n\n  customProps.pipeObj = (this._isRender()) ? originalRender || (() => {}) : (() => {});\n\n  return customProps;\n};\n\n/**\n * `_isRender` - function to check if render function\n *               should be used (one of the defaults defined).\n *\n * @return {Boolean} If render should be used\n */\nHtml._isRender = function() {\n  const ignoreProperties = {\n    el: 1,\n    customProperties: 1,\n    is3d: 1\n  };\n\n  for (let prop in this._defaults) {\n    if (ignoreProperties[prop]) {\n      continue;\n    }\n\n    if (this._o[prop] !== void 0) {\n      return true\n    }\n  }\n\n  return false;\n};\n\n/**\n * `_is3dProperties` - function to detect if the `3d` properties should be used.\n *\n * @return {Boolean} If 3d.\n */\nHtml._is3dProperties = function() {\n  const isRotate3d = (this._o.angleX != null) || (this._o.angleY != null) || (this._o.angleZ != null);\n  return this._is3d || (this._o.z != null) || (this._o.scaleZ != null) || isRotate3d;\n}\n\n/**\n * `_extendDefaults` - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._extendDefaults = function() {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // delete `is3d` from options since we will pass them to `Deltas`\n  this._is3d = this._props.is3d;\n  delete this._props.is3d;\n  // if el was passed as `selector`(`string`), find the element in the DOM\n  this.el = this._props.el;\n  if (typeof this.el === 'string') {\n    this.el = document.querySelector(this.el);\n  }\n  // set the `el` on options to element style\n  // since this what we will pass to deltas\n  this._props.el = this.el.style;\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Html);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Html;\n\nexport { wrap as Html };\n\n\n\n// WEBPACK FOOTER //\n// ./src/html.babel.js","/**\n * div - and element that is added to DOM for enviroment test purposes.\n */\nconst div = document.createElement('div');\ndocument.body.append(div);\n\nexport { div };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/div.babel.js","import { Tweenable } from './tween/tweenable';\nimport { staggerProperty } from './helpers/stagger-property';\n\n/* -------------------- */\n/* The `Stagger` class  */\n/* -------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Stagger = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nStagger.init = function(o = {}, Module) {\n  // super call\n  Super.init.call(this, o);\n  // create main timeline\n  this._createTimeline(o.timeline);\n  // create modules\n  this._createModules(Module);\n};\n\n/**\n * `_createModules` - function to create modules.\n *\n * @private\n * @param {Object} Child module class.\n */\nStagger._createModules = function(Module) {\n  this._modules = [];\n  const { items, el = {} } = this._o;\n  const modulesCount = items || el.length || 1;\n\n  for (let i = 0; i < modulesCount; i++) {\n    const module = new Module(this._getStaggerOptions(this._o, i));\n    this._modules.push(module);\n    this.timeline.add(module);\n  }\n};\n\n/**\n * `_getStaggerOptions` - get stagger options for a single module.\n *\n * @private\n * @param {Object} Stagger options.\n * @param {Number} Index of a module.\n */\nStagger._getStaggerOptions = function(options, i) {\n  // pass index to child properties\n  const o = { index: i };\n\n  for (let key in options) {\n    o[key] = staggerProperty(options[key], i);\n  }\n\n  return o;\n};\n\n/**\n * `_createTimeline` - function to create a timeline.\n *\n * @private\n * @param {Object} Timeline options.\n */\nStagger._createTimeline = function(options) {\n  this.timeline = new Timeline(options);\n  delete this._o.timeline;\n};\n\n/**\n * function to wrap a Module with the stagger wrapper.\n */\nconst stagger = (Module) => {\n  return (options) => {\n    const instance = Object.create(Stagger);\n    instance.init(options, Module);\n    return instance;\n  };\n}\n\nexport { stagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger.babel.js","import { pow } from './pow';\n\n/**\n * `addBasicEasing` - function to add `basic easing functions`.\n *\n * @param {Object} `mojs` object.\n */\nconst addBasicEasing = (mojs) => {\n  /**\n   * `Quad` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quad = pow(2);\n\n  /**\n   * `Cubic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.cubic = pow(3);\n\n  /**\n   * `Quart` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quart = pow(4);\n\n  /**\n   * `Quint` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quint = pow(5);\n\n  /**\n   * `Expo` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.expo = {\n    in: (k) => { return (k === 0) ? 0 : Math.pow(1024, k - 1); },\n    out: (k) => { return (k === 1) ? 1 : 1 - Math.pow(2, -10 * k); },\n    inout: (k) => {\n      if (k === 0 || k === 1) {\n\t\t\t\treturn k;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n    }\n  };\n\n  /**\n   * `Circ` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.circ = {\n    in: (k) => { return 1 - Math.sqrt(1 - k * k); },\n    out: (k) => { return Math.sqrt(1 - (--k * k)); },\n    inout: function(k) {\n      if ((k *= 2) < 1) {\n\t\t\t\treturn -0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    }\n  };\n\n  /**\n   * `Elastic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.elastic = {\n    in: (k) =>  {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) { return k; }\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n    out: (k) => {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) { return k; }\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    },\n    inout: (k) => {\n      if (k === 0 || k === 1) {\n\t\t\t\treturn k;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n    }\n  };\n\n  /**\n   * `Back` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.back = {\n    in: (k) => {\n      const s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n    out: (k) => {\n      const s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n    inout: (k) => {\n      var s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n  };\n\n  /**\n   * `Bounce` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.bounce = {\n    in: (k) => { return 1 - easing.bounce.out(1 - k); },\n    out: (k) => {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k;\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n    inout: (k) => {\n      return ( k < 0.5 )\n        ? easing.bounce.in(k * 2) * 0.5\n        : easing.bounce.out(k * 2 - 1) * 0.5 + 0.5;\n    }\n  };\n\n};\n\nexport { addBasicEasing as addBasicEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/basic-easing.babel.js","import { ClassProto } from './class-proto';\n// tween related\nimport { Tween } from './tween/tween';\nimport { tweenDefaults } from './tween/tween-defaults';\nimport { Timeline } from './tween/timeline';\nimport { tweener } from './tween/tweener';\n// easing\nimport { easing } from './easing/easing';\nimport { parseEasing } from './easing/parse-easing';\n// temporary - not needed for base file\nimport { Delta } from './delta/delta';\nimport { splitDelta } from './delta/split-delta';\nimport { parseNumber } from './delta/parse-number';\nimport { parseUnit } from './delta/parse-unit';\nimport { parseColor } from './delta/parse-color';\nimport { separateTweenOptions } from './delta/separate-tween-options';\nimport { Tweenable } from './tween/tweenable';\nimport { staggerProperty } from './helpers/stagger-property';\nimport { parseStagger } from './helpers/parse-stagger';\nimport { makeColorObject } from './helpers/make-color-object';\n\n/*\n  Browsers' support:\n    - rAF\n    - performance.now\n    - Map\n*/\n\n/*\n  TODO:\n    - add surface\n    - add shape\n    - add burst\n    - add mojs.staggerFunction()\n    - add spring easing\n    - add bezier easing\n    - add path generators\n    - add array deltas\n*/\n\nconst mojs = {\n  revision: '2.9.1',\n  Tween,\n  Timeline,\n  easing,\n  __helpers__: {\n    parseEasing,\n    ClassProto,\n    tweenDefaults,\n    tweener,\n    // temporary\n    Delta,\n    splitDelta,\n    parseNumber,\n    parseUnit,\n    parseColor,\n    separateTweenOptions,\n    Tweenable,\n    staggerProperty,\n    parseStagger,\n    makeColorObject\n  }\n};\n\n/* Extensions */\n// `basic easing functions`\nimport { addBasicEasing } from './easing/basic-easing';\naddBasicEasing(mojs);\n// Deltas\nimport { Deltas } from './delta/deltas';\nmojs.Deltas = Deltas;\n// MotionPath\nimport { MotionPath } from './delta/motion-path';\nmojs.MotionPath = MotionPath;\n// stagger\nimport { stagger } from './stagger';\nmojs.stagger = stagger;\n// html\nimport { Html } from './html';\nmojs.Html = Html;\n\nexport default mojs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/mojs.babel.js"],"sourceRoot":""}